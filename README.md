# üì± Max Notify –¥–ª—è Home Assistant

–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, —Ñ–æ—Ç–æ, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–∏–¥–µ–æ –≤ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä **Max** —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API.

[![GitHub](https://img.shields.io/badge/GitHub-kai--zer--ru%2Fmax--notify--ha-blue?logo=github)](https://github.com/kai-zer-ru/max-notify-ha)

---

## ‚ú® –ß—Ç–æ —É–º–µ–µ—Ç

- üìù **–¢–µ–∫—Å—Ç** ‚Äî —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ —Å—É—â–Ω–æ—Å—Ç—å notify –∏ —Å–µ—Ä–≤–∏—Å `max_notify.send_message`
- üñºÔ∏è **–§–æ—Ç–æ** ‚Äî `max_notify.send_photo` (–ø—É—Ç—å –∏–ª–∏ URL)
- üìé **–î–æ–∫—É–º–µ–Ω—Ç—ã** ‚Äî `max_notify.send_document`
- üé¨ **–í–∏–¥–µ–æ** ‚Äî `max_notify.send_video` (mp4, mov, webm, mkv)
- ‚öôÔ∏è –í—Å—ë –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ UI, –±–µ–∑ –ø—Ä–∞–≤–∫–∏ YAML

---

## üìã –ù—É–∂–Ω–æ

- Home Assistant (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è)
- –ë–æ—Ç –≤ Max –∏ —Ç–æ–∫–µ–Ω –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ [–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](https://dev.max.ru/docs-api) –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã MAX –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

**HACS:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí ‚ãÆ ‚Üí –î–æ–±–∞–≤–∏—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Üí `https://github.com/kai-zer-ru/max-notify-ha`, –∫–∞—Ç–µ–≥–æ—Ä–∏—è ¬´–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è¬ª. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å **Max Notify**, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å HA.

**–í—Ä—É—á–Ω—É—é:** —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å `custom_components/max_notify` –≤ `config/custom_components/`, –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å HA.

–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏** ‚Üí **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —Å–ª—É–∂–±—ã** ‚Üí **–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é** ‚Üí **Max Notify**.

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–¢–æ–∫–µ–Ω –±–æ—Ç–∞** ‚Äî –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ (–∏–∑ —Ä–∞–∑–¥–µ–ª–∞ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã MAX). –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∏—Ç –µ–≥–æ —á–µ—Ä–µ–∑ API.
2. **–î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç** ‚Äî —É–∫–∞–∂–∏—Ç–µ **–æ–¥–∏–Ω ID –ø–æ–ª—É—á–∞—Ç–µ–ª—è** (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ):
   - **–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ** ‚Äî –ª–∏—á–Ω—ã–π —á–∞—Ç (User ID)
   - **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ** ‚Äî –≥—Ä—É–ø–ø–∞ (Chat ID)

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —á–∞—Ç—ã: —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ ‚Üí **‚ãÆ** ‚Üí **–î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç** (—Ç–æ –∂–µ –ø–æ–ª–µ ‚Äî –æ–¥–∏–Ω ID, –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π).

–ü–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—è–≤—è—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç–∏ `notify.max_...` –∏ —Å–µ—Ä–≤–∏—Å—ã `max_notify.send_message`, `send_photo`, `send_document`, `send_video`.

---

## üì§ –°–µ—Ä–≤–∏—Å—ã

### max_notify.send_message

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `message` | –¢–µ–∫—Å—Ç (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `title` | –ó–∞–≥–æ–ª–æ–≤–æ–∫ |
| `entity_id` | –°—É—â–Ω–æ—Å—Ç–∏ Max Notify (–∏–ª–∏ –≤ ¬´–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ¬ª: `config_entry_id` + `chat_id` / `user_id`) |

–û—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ —Å—É—â–Ω–æ—Å—Ç—å: –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–µ–π—Å—Ç–≤–∏–µ **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ** ‚Üí –≤—ã–±—Ä–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å Max Notify.

```yaml
service: max_notify.send_message
data:
  entity_id: notify.max_user_123
  message: "–¢–µ–∫—Å—Ç"
  title: "–ó–∞–≥–æ–ª–æ–≤–æ–∫"
```

### max_notify.send_photo

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|----------|
| `file` | –ü—É—Ç—å (`/config/...`, `/media/...`) –∏–ª–∏ URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ |
| `caption` | –ü–æ–¥–ø–∏—Å—å |
| `entity_id` / –¥–æ–ø. –ø–∞—Ä–∞–º–µ—Ç—Ä—ã | –ö–∞–∫ –≤—ã—à–µ |

```yaml
service: max_notify.send_photo
data:
  entity_id: notify.max_chat_456
  file: /media/snapshot.jpg
  caption: "–°–Ω–∏–º–æ–∫"
```

### max_notify.send_document

–§–∞–π–ª –ø–æ –ø—É—Ç–∏ –∏–ª–∏ URL –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `file`, `caption`, `entity_id` (–∏–ª–∏ –¥–æ–ø.).

```yaml
service: max_notify.send_document
data:
  entity_id: notify.max_user_123
  file: /config/report.pdf
  caption: "–û—Ç—á—ë—Ç"
```

### max_notify.send_video

–§–æ—Ä–º–∞—Ç—ã: mp4, mov, webm, mkv. –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `file`, `caption`, `entity_id` (–∏–ª–∏ –¥–æ–ø.).

```yaml
service: max_notify.send_video
data:
  entity_id: notify.max_chat_456
  file: /media/clip.mp4
  caption: "–í–∏–¥–µ–æ"
```


---

## üîë –¢–æ–∫–µ–Ω –∏ ID

**–¢–æ–∫–µ–Ω:** 

[MAX –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](https://dev.max.ru/) ‚Üí –±–æ—Ç ‚Üí **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** ‚Üí **–ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω**.

**User ID –∏ Chat ID:** 

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ—Ç [CHECK ID](https://max.ru/id222312277810_1_bot) –≤ Max ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å/–ø–µ—Ä–µ—Å–ª–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ, –±–æ—Ç –≤–µ—Ä–Ω—ë—Ç ID. –õ–∏–±–æ API: `GET https://platform-api.max.ru/chats` —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Authorization: <—Ç–æ–∫–µ–Ω>` (–±–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —á–∞—Ç–µ). –ü–æ–¥—Ä–æ–±–Ω–µ–µ: [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API Max](https://dev.max.ru/docs-api).

–î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –ª–∏—á–Ω–æ–π –ø–µ—Ä–µ–ø–∏—Å–∫–∏ –ª—É—á—à–µ —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É, –¥–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞, –≤–∑—è—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–π Chat ID –∏ —É–∫–∞–∑–∞—Ç—å –µ–≥–æ –ø—Ä–∏ ¬´–î–æ–±–∞–≤–∏—Ç—å —á–∞—Ç¬ª.

---

## üîó –°—Å—ã–ª–∫–∏

- [–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/kai-zer-ru/max-notify-ha)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API Max](https://dev.max.ru/docs-api)
- [MAX –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤](https://dev.max.ru/)
